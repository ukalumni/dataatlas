<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cytoscape Example</title>
  <style>
    #cy {
      width: 100%;
      height: 100vh;
      display: block;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.21.0/cytoscape.min.js"></script>
</head>
<body>
  <div id="cy"></div>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const data = {
        "elements": [
          {
            "data": {
              "id": "table_0",
              "label": "napl_app_league",
              "type": "table"
            }
          },
          {
            "data": {
              "id": "table_1",
              "label": "napl_app_pool",
              "type": "table"
            }
          },
          {
            "data": {
              "id": "auth_user_id",
              "label": "auth_user",
              "type": "table"
            }
          },
          {
            "data": {
              "id": "edge_napl_app_pool_league_id_to_napl_app_league_id",
              "source": "table_1",
              "target": "table_0",
              "type": "relationship"
            }
          },
          {
            "data": {
              "id": "edge_napl_app_league_user_id_to_auth_user_id",
              "source": "table_0",
              "target": "auth_user_id",
              "type": "relationship"
            }
          }
        ]
      };

      var cy = cytoscape({
        container: document.getElementById('cy'),

        elements: data.elements,

        style: [
          {
            selector: 'node[type="table"]',
            style: {
              'background-color': '#6FB1FC',
              'label': 'data(label)',
              'shape': 'round-rectangle',
              'width': '200px',
              'height': '50px',
              'text-valign': 'center',
              'text-halign': 'center'
            }
          },
          {
            selector: 'edge[type="relationship"]',
            style: {
              'width': 3,
              'line-color': '#ccc',
              'target-arrow-color': '#ccc',
              'target-arrow-shape': 'triangle'
            }
          }
        ],

        layout: {
          name: 'grid',
          rows: 1
        }
      });

      console.log("Cytoscape instance:", cy);
    });
  </script>
</body>
</html>
